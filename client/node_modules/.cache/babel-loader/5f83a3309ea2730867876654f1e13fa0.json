{"ast":null,"code":"var _jsxFileName = \"D:\\\\-----------\\u5386\\u53F2\\u5B66\\u4E60--------\\\\\\u9AD8\\u7EA7node~~~11\\\\\\u81EA\\u6D4B\\\\\\u7528\\u6237\\u7BA1\\u7406\\u7CFB\\u7EDF\\\\client\\\\src\\\\containers\\\\One.js\";\nimport React, { Component } from 'react';\nexport default class One extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      list: [],\n      isShow: false,\n      username: '',\n      id: 0,\n      password: ''\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password,\n          isShow = _this$state.isShow,\n          list = _this$state.list;\n    return React.createElement(\"div\", {\n      className: \"one-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      onClick: this.healdeAdd.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    }, \"\\u6DFB\\u52A0\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, \"\\u59D3\\u540D\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, \"\\u5BC6\\u7801\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, \"\\u72B6\\u6001\")), list.map(item => {\n      return React.createElement(\"li\", {\n        key: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, item.username), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, item.password), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        onClick: this.headleEdit.bind(this, item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, \"\\u7F16\\u8F91\"), React.createElement(\"b\", {\n        onClick: this.headleDel.bind(this, item.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"\\u5220\\u9664\")));\n    })), isShow ? React.createElement(\"div\", {\n      className: \"mask-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      style: {\n        color: '#fff',\n        fontSize: '18px'\n      },\n      onClick: () => this.setState({\n        isShow: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"X\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: username,\n      onChange: e => this.setState({\n        username: e.target.value.trim()\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      value: password,\n      onChange: e => this.setState({\n        password: e.target.value.trim()\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      onClick: this.headlePut.bind(this),\n      style: {\n        color: 'green'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"\\u786E\\u8BA4\")))) : '');\n  }\n\n  async componentDidMount() {\n    let res = await this.http('/getlist');\n    this.setState({\n      list: res.data.result\n    });\n  }\n\n  async headleDel(id) {\n    let res = await this.http('/del', 'post', {\n      id\n    });\n    alert(res.data.msg);\n\n    if (res.data.code === 1) {\n      let res = await this.http('/getlist');\n      this.setState({\n        list: res.data.result\n      });\n    }\n  }\n\n  async headleEdit(item) {\n    this.setState({\n      isShow: true,\n      id: item.id,\n      username: item.username,\n      password: item.password\n    });\n  }\n\n  healdeAdd() {\n    this.props.history.push('/main/add');\n  }\n\n  async headlePut() {\n    this.setState({\n      isShow: false\n    });\n    const _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password,\n          id = _this$state2.id;\n    let res = await this.http('/edit', 'put', {\n      username,\n      password,\n      id\n    });\n    alert(res.data.msg);\n\n    if (res.data.code === 1) {\n      let res = await this.http('/getlist');\n      this.setState({\n        list: res.data.result\n      });\n    }\n  }\n\n}","map":{"version":3,"sources":["D:/-----------历史学习--------/高级node~~~11/自测/用户管理系统/client/src/containers/One.js"],"names":["React","Component","One","state","list","isShow","username","id","password","render","healdeAdd","bind","map","item","headleEdit","headleDel","color","fontSize","setState","e","target","value","trim","headlePut","componentDidMount","res","http","data","result","alert","msg","code","props","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport default class One extends Component {\r\n    state = {\r\n        list: [],\r\n        isShow: false,\r\n        username: '',\r\n        id: 0,\r\n        password: '',\r\n    };\r\n    render() {\r\n        const { username, password, isShow, list } = this.state;\r\n        return (\r\n            <div className=\"one-box\">\r\n                <h1 onClick={this.healdeAdd.bind(this)}>添加</h1>\r\n                <ul>\r\n                    <li>\r\n                        <span>姓名</span>\r\n                        <span>密码</span>\r\n                        <span>状态</span>\r\n                    </li>\r\n                    {list.map(item => {\r\n                        return (\r\n                            <li key={item.id}>\r\n                                <span>{item.username}</span>\r\n                                <span>{item.password}</span>\r\n                                <span>\r\n                                    <b onClick={this.headleEdit.bind(this, item)}>编辑</b>\r\n                                    <b onClick={this.headleDel.bind(this, item.id)}>删除</b>\r\n                                </span>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n                {isShow ? (\r\n                    <div className=\"mask-box\">\r\n                        <div>\r\n                            <b\r\n                                style={{ color: '#fff', fontSize: '18px' }}\r\n                                onClick={() => this.setState({ isShow: false })}\r\n                            >\r\n                                X\r\n                            </b>\r\n                            <ul>\r\n                                <li>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={username}\r\n                                        onChange={e =>\r\n                                            this.setState({\r\n                                                username: e.target.value.trim(),\r\n                                            })\r\n                                        }\r\n                                    />\r\n                                </li>\r\n                                <li>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        value={password}\r\n                                        onChange={e =>\r\n                                            this.setState({\r\n                                                password: e.target.value.trim(),\r\n                                            })\r\n                                        }\r\n                                    />\r\n                                </li>\r\n                                <li onClick={this.headlePut.bind(this)} style={{ color: 'green' }}>\r\n                                    确认\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    ''\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n    async componentDidMount() {\r\n        let res = await this.http('/getlist');\r\n        this.setState({\r\n            list: res.data.result,\r\n        });\r\n    }\r\n    async headleDel(id) {\r\n        let res = await this.http('/del', 'post', { id });\r\n        alert(res.data.msg);\r\n        if (res.data.code === 1) {\r\n            let res = await this.http('/getlist');\r\n            this.setState({\r\n                list: res.data.result,\r\n            });\r\n        }\r\n    }\r\n    async headleEdit(item) {\r\n        this.setState({\r\n            isShow: true,\r\n            id: item.id,\r\n            username: item.username,\r\n            password: item.password,\r\n        });\r\n    }\r\n    healdeAdd() {\r\n        this.props.history.push('/main/add');\r\n    }\r\n    async headlePut() {\r\n        this.setState({\r\n            isShow: false,\r\n        });\r\n        const { username, password, id } = this.state;\r\n        let res = await this.http('/edit', 'put', { username, password, id });\r\n        alert(res.data.msg);\r\n        if (res.data.code === 1) {\r\n            let res = await this.http('/getlist');\r\n            this.setState({\r\n                list: res.data.result,\r\n            });\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}